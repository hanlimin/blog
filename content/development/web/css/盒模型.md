---
title: 盒模型
date: "2021-2-28 20:07:00"
modifyDate: 
draft: true
---

# 盒模型

![box modell](/static/Boxmodell-detail.png)

在网页布局中，我们可以将 HTML 标签看成一个个矩形盒子，盒模型就是用来描述这些矩形盒子所占的空间大小。

## 相关属性

### `width`和`height`

分别指定了一个元素的宽高。

### `border`

指定了元素的边框，是`border-width`、`border-style`、`border-color`的简写，分别用来设置边框的宽度、样式(实线、虚线、双线等)、颜色。

### `padding`

指定了内边距，是元素内容和边框之间的部分，是`padding-top`、`pandding-right`、`padding-bottom`、`padding-left`的简写，分别指定了上内边距、右内边距、下内边距和左内边距。

### `margin`

指定了外边距，用来定义元素周围的空间，是`margin-top`、`margin-right`、`margin-bottom`、`margin-left`的简写。

## 分类

由于游览器的差异性，盒模型分为标准盒模型和IE盒模型，它们的呈现方式和对盒子大小的计算略有不同。

### 标准盒模型

- 元素的 width、height 只包含内容 content，不包含 border 和 padding 值；
- 盒子的大小由元素的宽高、边框和内边距决定。

### IE盒模型

• 元素的 width、height 不仅包括 content，还包括 border 和 padding；
• 盒子的大小取决于 width、height，修改 border 和 padding 值不能改变盒子的大小

浏览器兼容性及其他

• 只要设置了合适的 DTD，大多数浏览器会按照标准盒模型来显示，但是 IE5.X 和 6 在怪异模式下会根据 IE 盒子模型进行显示。
• 标准盒模型下元素的 box-sizing 属性（IE8+）默认值为 content-box，将它设置成 border-box 可转换为 IE 盒模型。在实际应用场景中，若想控制元素总宽高保持固定，这个设置很有用。
• 元素的宽（width）、高（height）、边框（border）、内边距（padding）、外边距（margin）都是盒子模型的重要组成部分，但是盒子模型的大小只与元素的宽高、边框、内间距有关，外边距只影响盒子所占外围空间的大小。

## 布局

### 相关属性

#### `display`

`display`是CSS布局中很重要的一个属性，它定义了元素生成的显示框类型，可用的属性值有：

- `block`
- `inline`
- `inline-block`
- `inherit` 从父元素继承display属性值
- `none` 该元素不显示，也不占用空间位置
- `flex` flex布局的重要属性配置

每个元素都有默认的display属性，div标签的默认display属性值为block，我们通常称这类元素为块级元素；span标签的默认display属性值为inline，我们通常称这类元素为行内元素。
块级元素总是独占一行，从上到下显示，行内元素则是从左到右显示。这是因为块级元素前后都有换行符，而行内元素前后没有换行符。其它区别和特性：

块级元素：

- 没有设定宽度时，它的宽度时其容器的100%；
- 可以给块级元素设置宽高、内边距、外边距等盒模型属性；
- 块级元素可以包含块级元素和行内元素；
- 常见的块级元素有：`<div>`、`<h1>`~`<h6>`、`<p>`、`<ul>`、`<ol>`、`dl`、`table`、`address`、`<form>`等。
  
行内元素

- 行内元素不会独占一行，只会占领自身宽高所需要的空间；
- 给行内元素设置宽高不会起作用，margin值只对左右起作用。padding值也只对左右起作用，但在垂直方向会影响背景色区域；
- 行内元素一般不可以包含块级元素，只能包含行内元素和文本；
- 常见的行内元素有`<a>`、`<b>`、`<label>`、`<span>`、`<img>`、`<em>`、`<strong>`、`<i>`、`<input>`等。

给 img 标签设置宽高是可以影响图片大小的，这是因为 img 是可替代元素，可替代元素具有内在的尺寸，所以宽高可以设定。HTML 中的 input、button、textarea、select 都是可替代元素，这些元素即使是空的，浏览器也会根据其标签和属性来决定显示的内容。

#### `postion`

在布局中很重要的因素就是定位，position属性就是定义元素的定位机制。可用的属性值有

- relative：相对定位，相对于元素的正常位置进行定位；
- absolute：绝对位置，相对于最近除static定位以外的元素进行定位；
- fixed：固定定位，相对于游览器窗口进行定位，网站中的固定header和footer就是用固定定位来实现的；
- static：默认值，没有定位属性，元素正常出现在文档流中；
- inherit：继承父元素的position属性值；
- float：浮动，指定浮动方向，脱离文档流。

文档流的概念，是大多数人的叫法，来自于normal flow。”流“可以想象是流动的水，当我们打开屏幕，游览网页，滚动鼠标，网页的内容就像是流水一样划过。
文档流便是指从上到下，从左到右的文档布局。当我们给元素的position属性设置absolute、fixed、float时便会脱离文档流，不再遵循从上到下，从左到右的规律了。

设置了 float 的元素，会脱离文档流，然后向左或向右移动，直到碰到父容器的边界或者碰到另一个浮动元素。块级元素会忽略 float 元素，文本和行内元素却会环绕它，所以 float 最开始是用来实现文字环绕效果的。
当子元素设置浮动属性后，子元素会溢出到父元素外，父元素的宽高也不会被撑开了，称之为“高度塌陷”，要通过清除浮动解决这个问题。

1. 利用`clear`属性来定义哪一侧不允许其它元素浮动；
2. 使用br标签，它自带clear属性；
3. 给父元素设置overflow属性；这里要引入一个概念：BFC（Block Formatting Context），块级格式化上下文。BFC 的一个特性便是可以包含浮动元素，设置 overflow 为 hidden 满足了创建一个 BFC 的条件，其实就是创建 BFC，利用 BFC 固有特性清除浮动；
4. 使用after为元素。该方法本质也是在末尾添加一个看不见的块元素来清除浮动。这个方法也不存在语义化的问题，是目前的主流清除浮动的方法。

设置position的属性后（除static外）z-index属性会被提升，所以为什么会覆盖到其他元素。
也要注意一点：
z-index属性设置，只能用于已开启设置position属性（static除外）上奏效。
浮动后，我记得提升了半个z-index
