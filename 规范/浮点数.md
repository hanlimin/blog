### IEEE754浮点数

#### 几个常量的定义

- *b* ，基数 (base) ，下文中只可能为 2 或 10 。
- *p*，精度 (precision) 。
- *emax* ，指数的最大可能值。
- *emin* ，指数的最小可能值，对于所有类型 $emin=1-emax$ 

对于每种浮点格式，均可能有以下的数值：

- 有符号零或非零数字$(-1)^s\times b^e\times m$，其中
    - *s* 为 1 或 0 。
    - *e* 为任何 $emin\le e \le emax$ 的值。
    - *m* 是一个由数字串 $\overline{d_1d_2\cdots d_{p-1}}_{(b)}$ 表示的数字，其中又有 $0\le d_i \le b$ （因此 $0< m<b$ ）。
- 两个无穷量 $+\infty$ 和$-\infty$。
- 两种非数字 (NaN, Not a Number) 。quiet NaN 和 signaling NaN 。

#### 二进浮点格式

 二进浮点格式由以下三部分组成： 

1. 1-bit 符号位 *S*
2. *w*-bit 指数 $E=e+bias$
3. *t*-bit 尾数 $t=p-1$, $T=\overline{d_1d_2\cdots d_{p-1}}_{(2)}$，首位 $d_0$ 默认不出现。

 以下是标准定义的几种二进浮点格式的各项参数：

| 参数     | binary16 | binary32 | binary64 | binary128 | binary{k}                        |
| :------- | :------- | :------- | :------- | :-------- | :------------------------------- |
| *k*      | 16       | 32       | 64       | 128       | k, 32\|k*k*,32∣*k*               |
| *p*      | 11       | 24       | 53       | 113       | $k-\mathrm{round}(4\log_2 k)+13$ |
| *emax*   | 15       | 127      | 1023     | 16383     | $2^{k-p-1}-1$                    |
| *bias*   | 15       | 127      | 1023     | 16383     | *emax*                           |
| sign bit | 1        | 1        | 1        | 1         | 1                                |
| *w*      | 5        | 8        | 11       | 15        | $\mathrm{round}(4\log_2 k)-13$   |
| *t*      | 10       | 23       | 52       | 112       | $k−w−1$                          |

##### 规格化浮点数

 规格化浮点数 (normalized number) 是指 $E_0\cdots E_{w-1}$ 不全为 0 或不全为 1 的情况，这时候浮点数的值由公式 
$$
\large( −1)^S×M×2^E
$$

 给出，其中 *S*，*E*，的值均直接由相应的块的二进制整数值表示。*M* 的值由以下公式推导出 

$$
\large M=1+\sum_{i=1}^t2^{-i}d_i
$$

##### 非规格化浮点数

 非规格化浮点数 (subnormalized number) 是指 $E_0\cdots E_{w-1}$ 全为 0 的情况。因为$1\le m<2$，规格化浮点数无法表示 0 ，因此规定：当一个数字的绝对值小于 $b^{emin}$时转为非规格化表示，浮点数的值由公式 
$$
\large (-1)^S\times M\times 2^{1-bias}
$$
给出，其中M的值为
$$
\large M=\sum_{i=1}^t2^{-i}d_i
$$

##### 特殊值

特殊值包括无穷大和 NaN 。

当E全为1，M全为0，则根据符号位分别表示正无穷大和负无穷大。

当E全为1，M不全为0，则表示NaN。 NAN又分成两类：QNAN（Quiet NAN）和SNAN（Singaling NAN）。QNAN与SNAN的不同之处在于，QNAN的尾数部分最高位定义为1，SNAN最高位定义为0 。 QNAN一般表示未定义的算术运算结果，最常见的莫过于除0运算；SNAN一般被用于标记未初始化的值，以此来捕获异常。 

