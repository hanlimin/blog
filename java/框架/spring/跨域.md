1. 通过注解`CrossOrigin`

    ```java
    对第一种情况，如果想要对某一接口配置 CORS，可以在方法上添加 CrossOrigin 注解：
    
    @CrossOrigin(origins = {"http://localhost:9000", "null"})
    @RequestMapping(value = "/test", method = RequestMethod.GET)
    public String greetings() {
        return "{\"project\":\"just a test\"}";
    }
    第二种情况，如果想对一系列接口添加 CORS 配置，可以在类上添加注解，对该类声明所有接口都有效：
    
    CrossOrigin(origins = {"http://localhost:9000", "null"})
    @RestController
    @SpringBootApplication
    public class SpringBootCorsTestApplication {
        // xxx
    }
    ```

    

2. 通过`WebMvcConfigurer`的`addCorsMappings`方法配置

    ```java
    @Configuration
    public class WebConfig extends WebMvcConfigurerAdapter {
    
        @Override
        public void addCorsMappings(CorsRegistry registry) {
            registry.addMapping("/**")
                    .allowedOrigins("http://localhost:9000", "null")
                    .allowedMethods("POST", "GET", "PUT", "OPTIONS", "DELETE")
                    .maxAge(3600)
                    .allowCredentials(true);
        }
    }
    ```

    

3. 配置`CorsFilter`bean来配置

    ```java
    @Bean
    public FilterRegistrationBean corsFilter() {
        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();
        CorsConfiguration config = new CorsConfiguration();
        config.setAllowCredentials(true);	config.addAllowedOrigin("http://localhost:9000");
        config.addAllowedOrigin("null");
        config.addAllowedHeader("*");
        config.addAllowedMethod("*");
        source.registerCorsConfiguration("/**", config); // CORS 配置对所有接口都有效
        FilterRegistrationBean bean = newFilterRegistrationBean(new CorsFilter(source));
        bean.setOrder(0);
        return bean;
    }
    ```

以上最终都是通过`CorsConfiguration`



> https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Access_control_CORS 
>
> https://www.ruanyifeng.com/blog/2016/04/cors.html
>
> https://segmentfault.com/a/1190000011145364  